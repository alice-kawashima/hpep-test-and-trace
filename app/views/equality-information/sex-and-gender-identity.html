{% extends 'layout.html' %}

{% block pageTitle %}
Sex and gender identity | UK Health Security Agency
{% endblock %}

{% block beforeContent %}
<a href="#" class="govuk-back-link" onclick="goBack()">Back</a>
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <form action="/equality-information/ethnicity/ethnic-group" method="post" class="form">

      <span class="govuk-caption-l">Equality information</span>
      <h1 class="govuk-heading-l">
        Sex and gender identity
      </h1>

      <div class="govuk-form-group">
        <fieldset class="govuk-fieldset">
          <legend id="h2-1-content" class="govuk-fieldset__legend govuk-fieldset__legend--m">
            What is your sex?
          </legend>
          <div class="govuk-radios" data-module="govuk-radios">
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="sex" name="sex" type="radio" value="female">
              <label class="govuk-label govuk-radios__label" for="sex">
                Female
              </label>
            </div>
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="sex-2" name="sex" type="radio" value="male">
              <label class="govuk-label govuk-radios__label" for="sex-2">
                Male
              </label>
            </div>
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="sex-3" name="sex" type="radio" value="skip">
              <label class="govuk-label govuk-radios__label" for="sex-3">
                Prefer not to say
              </label>
            </div>
          </div>

        </fieldset>
      </div>

      <div class="govuk-form-group">
        <fieldset class="govuk-fieldset">
          <legend id="h2-2-content" class="govuk-fieldset__legend govuk-fieldset__legend--m">
            Is the gender you identify with the same as your sex registered at birth?
          </legend>
          <div class="govuk-radios" data-module="govuk-radios">
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="gender-identity" name="gender-identity" type="radio" value="yes">
              <label class="govuk-label govuk-radios__label" for="gender-identity">
                Yes
              </label>
            </div>
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="gender-identity-2" name="gender-identity" type="radio" value="no" data-aria-controls="conditional-gender-identity-2">
              <label class="govuk-label govuk-radios__label" for="gender-identity-2">
                No
              </label>
            </div>
            <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional-gender-identity-2">
              <div class="govuk-form-group">
                <label id="h3-1-content" class="govuk-label" for="gender-description">
                  What is your gender identity? (optional)
                </label>
                <input class="govuk-input govuk-!-width-one-half" id="gender-description" name="gender-description" type="text">
              </div>

            </div>
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="gender-identity-3" name="gender-identity" type="radio" value="skip">
              <label class="govuk-label govuk-radios__label" for="gender-identity-3">
                Prefer not to say
              </label>
            </div>
          </div>

        </fieldset>
      </div>

      <button class="govuk-button" data-module="govuk-button">
        Save and continue
      </button>

    </form>

  </div>
</div>

<script>
  window.onload = function() {
    // Proxy check
    var proxyValue = "{{ data['proxy'] }}";

    if (proxyValue == "No") {
      $("#h2-1-content").html('What is {{ data["positive-case-given-names"] | default("Sarah") }} {{ data["positive-case-family-name"] | default("Philips") }}&#39;s sex?');
      $("#h2-2-content").html('Is the gender {{ data["positive-case-given-names"] | default("Sarah") }} {{ data["positive-case-family-name"] | default("Philips") }} identifies with the same as their sex registered at birth?');
      $("#h3-1-content").html('What is {{ data["positive-case-given-names"] | default("Sarah") }} {{ data["positive-case-family-name"] | default("Philips") }}&#39;s gender identity? (optional)');
      return false;
    }
  }
</script>
{% endblock %}
